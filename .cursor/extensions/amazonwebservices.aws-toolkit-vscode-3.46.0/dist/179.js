"use strict";var ct=Object.defineProperty;var lt=(x,m,n)=>m in x?ct(x,m,{enumerable:!0,configurable:!0,writable:!0,value:n}):x[m]=n;var g=(x,m,n)=>(lt(x,typeof m!="symbol"?m+"":m,n),n);exports.id=179,exports.ids=[179],exports.modules={74807:(x,m,n)=>{n.d(m,{CG:()=>o,Y2:()=>k,cJ:()=>$});var O=n(65330);const k=(v,c)=>(0,O.w)(v,c).then(l=>{if(l.length)try{return JSON.parse(l)}catch(y){throw y?.name==="SyntaxError"&&Object.defineProperty(y,"$responseBodyText",{value:l}),y}return{}}),o=async(v,c)=>{const l=await k(v,c);return l.message=l.message??l.Message,l},$=(v,c)=>{const l=(E,d)=>Object.keys(E).find(j=>j.toLowerCase()===d.toLowerCase()),y=E=>{let d=E;return typeof d=="number"&&(d=d.toString()),d.indexOf(",")>=0&&(d=d.split(",")[0]),d.indexOf(":")>=0&&(d=d.split(":")[0]),d.indexOf("#")>=0&&(d=d.split("#")[1]),d},R=l(v.headers,"x-amzn-errortype");if(R!==void 0)return y(v.headers[R]);if(c.code!==void 0)return y(c.code);if(c.__type!==void 0)return y(c.__type)}},61179:(x,m,n)=>{n.d(m,{GetRoleCredentialsCommand:()=>ke,SSOClient:()=>nt});var O=n(48373),k=n(39248),o=n(43040);const $=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"}),v={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};class c extends o.TJ{constructor(s){super(s),Object.setPrototypeOf(this,c.prototype)}}class l extends c{constructor(t){super({name:"InvalidRequestException",$fault:"client",...t});g(this,"name","InvalidRequestException");g(this,"$fault","client");Object.setPrototypeOf(this,l.prototype)}}class y extends c{constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t});g(this,"name","ResourceNotFoundException");g(this,"$fault","client");Object.setPrototypeOf(this,y.prototype)}}class R extends c{constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t});g(this,"name","TooManyRequestsException");g(this,"$fault","client");Object.setPrototypeOf(this,R.prototype)}}class E extends c{constructor(t){super({name:"UnauthorizedException",$fault:"client",...t});g(this,"name","UnauthorizedException");g(this,"$fault","client");Object.setPrototypeOf(this,E.prototype)}}const d=e=>({...e,...e.accessToken&&{accessToken:o.$H}}),j=e=>({...e,...e.secretAccessKey&&{secretAccessKey:o.$H},...e.sessionToken&&{sessionToken:o.$H}}),Ee=e=>({...e,...e.roleCredentials&&{roleCredentials:j(e.roleCredentials)}}),ut=e=>({...e,...e.accessToken&&{accessToken:SENSITIVE_STRING}}),pt=e=>({...e,...e.accessToken&&{accessToken:SENSITIVE_STRING}}),ht=e=>({...e,...e.accessToken&&{accessToken:SENSITIVE_STRING}});var H=n(74807),A=n(59859);const Re=async(e,s)=>{const t=(0,A.lI)(e,s),a=(0,o.Tj)({},o.eU,{[F]:e[D]});t.bp("/federation/credentials");const r=(0,o.Tj)({[Oe]:[,(0,o.Y0)(e[Te],"roleName")],[K]:[,(0,o.Y0)(e[V],"accountId")]});let i;return t.m("GET").h(a).q(r).b(i),t.build()},mt=async(e,s)=>{const t=rb(e,s),a=map({},isSerializableHeaderValue,{[F]:e[D]});t.bp("/assignment/roles");const r=map({[W]:[,e[Z]],[Y]:[()=>e.maxResults!==void 0,()=>e[J].toString()],[K]:[,__expectNonNull(e[V],"accountId")]});let i;return t.m("GET").h(a).q(r).b(i),t.build()},yt=async(e,s)=>{const t=rb(e,s),a=map({},isSerializableHeaderValue,{[F]:e[D]});t.bp("/assignment/accounts");const r=map({[W]:[,e[Z]],[Y]:[()=>e.maxResults!==void 0,()=>e[J].toString()]});let i;return t.m("GET").h(a).q(r).b(i),t.build()},gt=async(e,s)=>{const t=rb(e,s),a=map({},isSerializableHeaderValue,{[F]:e[D]});t.bp("/logout");let r;return t.m("POST").h(a).b(r),t.build()},Ce=async(e,s)=>{if(e.statusCode!==200&&e.statusCode>=300)return z(e,s);const t=(0,o.Tj)({$metadata:f(e)}),a=(0,o.Y0)((0,o.Xk)(await(0,H.Y2)(e.body,s)),"body"),r=(0,o.s)(a,{roleCredentials:o.Ss});return Object.assign(t,r),t},St=async(e,s)=>{if(e.statusCode!==200&&e.statusCode>=300)return z(e,s);const t=map({$metadata:f(e)}),a=__expectNonNull(__expectObject(await parseBody(e.body,s)),"body"),r=take(a,{nextToken:__expectString,roleList:_json});return Object.assign(t,r),t},vt=async(e,s)=>{if(e.statusCode!==200&&e.statusCode>=300)return z(e,s);const t=map({$metadata:f(e)}),a=__expectNonNull(__expectObject(await parseBody(e.body,s)),"body"),r=take(a,{accountList:_json,nextToken:__expectString});return Object.assign(t,r),t},ft=async(e,s)=>{if(e.statusCode!==200&&e.statusCode>=300)return z(e,s);const t=map({$metadata:f(e)});return await collectBody(e.body,s),t},z=async(e,s)=>{const t={...e,body:await(0,H.CG)(e.body,s)},a=(0,H.cJ)(e,t.body);switch(a){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await Pe(t,s);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await be(t,s);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await Ae(t,s);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await we(t,s);default:const r=t.body;return Ie({output:e,parsedBody:r,errorCode:a})}},Ie=(0,o.jr)(c),Pe=async(e,s)=>{const t=(0,o.Tj)({}),a=e.body,r=(0,o.s)(a,{message:o.lK});Object.assign(t,r);const i=new l({$metadata:f(e),...t});return(0,o.Mw)(i,e.body)},be=async(e,s)=>{const t=(0,o.Tj)({}),a=e.body,r=(0,o.s)(a,{message:o.lK});Object.assign(t,r);const i=new y({$metadata:f(e),...t});return(0,o.Mw)(i,e.body)},Ae=async(e,s)=>{const t=(0,o.Tj)({}),a=e.body,r=(0,o.s)(a,{message:o.lK});Object.assign(t,r);const i=new R({$metadata:f(e),...t});return(0,o.Mw)(i,e.body)},we=async(e,s)=>{const t=(0,o.Tj)({}),a=e.body,r=(0,o.s)(a,{message:o.lK});Object.assign(t,r);const i=new E({$metadata:f(e),...t});return(0,o.Mw)(i,e.body)},f=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),xt=(e,s)=>collectBody(e,s).then(t=>s.utf8Encoder(t)),V="accountId",D="accessToken",K="account_id",J="maxResults",Y="max_result",Z="nextToken",W="next_token",Te="roleName",Oe="role_name",F="x-amz-sso_bearer_token";class ke extends o.uB.classBuilder().ep(v).m(function(s,t,a,r){return[(0,k.TM)(a,this.serialize,this.deserialize),(0,O.rD)(a,s.getEndpointParameterInstructions())]}).s("SWBPortalService","GetRoleCredentials",{}).n("SSOClient","GetRoleCredentialsCommand").f(d,Ee).ser(Re).de(Ce).build(){}var q=n(51647),ze=n(18375),De=n(1473),X=n(12569),w=n(93575),Fe=n(24961),L=n(34674),Le=n(70944),Q=n(83207);const Ne=async(e,s,t)=>({operation:(0,Q.u)(s).operation,region:await(0,Q.t)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});function _e(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"awsssoportal",region:e.region},propertiesExtractor:(s,t)=>({signingProperties:{config:s,context:t}})}}function N(e){return{schemeId:"smithy.api#noAuth"}}const $e=e=>{const s=[];switch(e.operation){case"GetRoleCredentials":{s.push(N(e));break}case"ListAccountRoles":{s.push(N(e));break}case"ListAccounts":{s.push(N(e));break}case"Logout":{s.push(N(e));break}default:s.push(_e(e))}return s},je=e=>({...(0,Le.h)(e)}),He={rE:"3.726.0"};var Me=n(61610),ee=n(16239),Ge=n(3101),C=n(19067),te=n(88135),Ue=n(89641),Be=n(5075),Ve=n(25820),Ke=n(69913),se=n(83876),ne=n(30389),Je=n(9012),M=n(64409);const oe="required",u="fn",p="argv",I="ref",re=!0,ae="isSet",T="booleanEquals",P="error",b="endpoint",S="tree",G="PartitionResult",U="getAttr",ie={[oe]:!1,type:"String"},de={[oe]:!0,default:!1,type:"Boolean"},ce={[I]:"Endpoint"},le={[u]:T,[p]:[{[I]:"UseFIPS"},!0]},ue={[u]:T,[p]:[{[I]:"UseDualStack"},!0]},h={},pe={[u]:U,[p]:[{[I]:G},"supportsFIPS"]},he={[I]:G},me={[u]:T,[p]:[!0,{[u]:U,[p]:[he,"supportsDualStack"]}]},ye=[le],ge=[ue],Se=[{[I]:"Region"}],Ye={version:"1.0",parameters:{Region:ie,UseDualStack:de,UseFIPS:de,Endpoint:ie},rules:[{conditions:[{[u]:ae,[p]:[ce]}],rules:[{conditions:ye,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:P},{conditions:ge,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:P},{endpoint:{url:ce,properties:h,headers:h},type:b}],type:S},{conditions:[{[u]:ae,[p]:Se}],rules:[{conditions:[{[u]:"aws.partition",[p]:Se,assign:G}],rules:[{conditions:[le,ue],rules:[{conditions:[{[u]:T,[p]:[re,pe]},me],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:h,headers:h},type:b}],type:S},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:P}],type:S},{conditions:ye,rules:[{conditions:[{[u]:T,[p]:[pe,re]}],rules:[{conditions:[{[u]:"stringEquals",[p]:[{[u]:U,[p]:[he,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:h,headers:h},type:b},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:h,headers:h},type:b}],type:S},{error:"FIPS is enabled but this partition does not support FIPS",type:P}],type:S},{conditions:ge,rules:[{conditions:[me],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:h,headers:h},type:b}],type:S},{error:"DualStack is enabled but this partition does not support DualStack",type:P}],type:S},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:h,headers:h},type:b}],type:S}],type:S},{error:"Invalid Configuration: Missing Region",type:P}]},Ze=new M.kS({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),We=(e,s={})=>Ze.get(e,()=>(0,M.sO)(Ye,{endpointParams:e,logger:s.logger}));M.mw.aws=Je.UF;const qe=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??se.E,base64Encoder:e?.base64Encoder??se.n,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??We,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??$e,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:s=>s.getIdentityProvider("aws.auth#sigv4"),signer:new Ve.f2},{schemeId:"smithy.api#noAuth",identityProvider:s=>s.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new A.mR}],logger:e?.logger??new o.N4,serviceId:e?.serviceId??"SSO",urlParser:e?.urlParser??Ke.D,utf8Decoder:e?.utf8Decoder??ne.ar,utf8Encoder:e?.utf8Encoder??ne.Pq});var Xe=n(58633);const Qe=e=>{(0,o.I9)(process.version);const s=(0,Xe.I)(e),t=()=>s().then(o.lT),a=qe(e);(0,Me.I)(process.version);const r={profile:e?.profile};return{...a,...e,runtime:"node",defaultsMode:s,bodyLengthChecker:e?.bodyLengthChecker??Ue.n,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,ee.pf)({serviceId:a.serviceId,clientVersion:He.rE}),maxAttempts:e?.maxAttempts??(0,C.Z)(L.qs,e),region:e?.region??(0,C.Z)(w.GG,{...w.zH,...r}),requestHandler:te.$c.create(e?.requestHandler??t),retryMode:e?.retryMode??(0,C.Z)({...L.kN,default:async()=>(await t()).retryMode||Be.L0},e),sha256:e?.sha256??Ge.V.bind(null,"sha256"),streamCollector:e?.streamCollector??te.kv,useDualstackEndpoint:e?.useDualstackEndpoint??(0,C.Z)(w.e$,r),useFipsEndpoint:e?.useFipsEndpoint??(0,C.Z)(w.Ko,r),userAgentAppId:e?.userAgentAppId??(0,C.Z)(ee.hV,r)}};var ve=n(75768),fe=n(54847);const et=e=>{const s=e.httpAuthSchemes;let t=e.httpAuthSchemeProvider,a=e.credentials;return{setHttpAuthScheme(r){const i=s.findIndex(B=>B.schemeId===r.schemeId);i===-1?s.push(r):s.splice(i,1,r)},httpAuthSchemes(){return s},setHttpAuthSchemeProvider(r){t=r},httpAuthSchemeProvider(){return t},setCredentials(r){a=r},credentials(){return a}}},tt=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),_=e=>e,st=(e,s)=>{const t={..._((0,ve.Rq)(e)),..._((0,o.xA)(e)),..._((0,fe.eS)(e)),..._(et(e))};return s.forEach(a=>a.configure(t)),{...e,...(0,ve.$3)(t),...(0,o.uv)(t),...(0,fe.jt)(t),...tt(t)}};class nt extends o.Kj{constructor(...[t]){const a=Qe(t||{}),r=$(a),i=(0,X.Dc)(r),B=(0,L.$z)(i),ot=(0,w.TD)(B),rt=(0,q.OV)(ot),at=(0,O.Co)(rt),it=je(at),xe=st(it,t?.extensions||[]);super(xe);g(this,"config");this.config=xe,this.middlewareStack.use((0,X.sM)(this.config)),this.middlewareStack.use((0,L.ey)(this.config)),this.middlewareStack.use((0,Fe.vK)(this.config)),this.middlewareStack.use((0,q.TC)(this.config)),this.middlewareStack.use((0,ze.Y7)(this.config)),this.middlewareStack.use((0,De.n4)(this.config)),this.middlewareStack.use((0,A.wB)(this.config,{httpAuthSchemeParametersProvider:Ne,identityProviderConfigProvider:async dt=>new A.h$({"aws.auth#sigv4":dt.credentials})})),this.middlewareStack.use((0,A.lW)(this.config))}destroy(){super.destroy()}}}};
