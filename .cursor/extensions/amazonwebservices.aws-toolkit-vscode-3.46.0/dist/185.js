"use strict";var ct=Object.defineProperty;var lt=(g,p,a)=>p in g?ct(g,p,{enumerable:!0,configurable:!0,writable:!0,value:a}):g[p]=a;var u=(g,p,a)=>(lt(g,typeof p!="symbol"?p+"":p,a),a);exports.id=185,exports.ids=[185],exports.modules={33185:(g,p,a)=>{a.d(p,{GetRoleCredentialsCommand:()=>Fe,SSOClient:()=>nt});var H=a(81099),ge=a(47882),o=a(21518);const Se=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"}),ve={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};class y extends o.TJ{constructor(s){super(s),Object.setPrototypeOf(this,y.prototype)}}class k extends y{constructor(t){super({name:"InvalidRequestException",$fault:"client",...t});u(this,"name","InvalidRequestException");u(this,"$fault","client");Object.setPrototypeOf(this,k.prototype)}}class F extends y{constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t});u(this,"name","ResourceNotFoundException");u(this,"$fault","client");Object.setPrototypeOf(this,F.prototype)}}class z extends y{constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t});u(this,"name","TooManyRequestsException");u(this,"$fault","client");Object.setPrototypeOf(this,z.prototype)}}class D extends y{constructor(t){super({name:"UnauthorizedException",$fault:"client",...t});u(this,"name","UnauthorizedException");u(this,"$fault","client");Object.setPrototypeOf(this,D.prototype)}}const fe=e=>({...e,...e.accessToken&&{accessToken:o.$H}}),xe=e=>({...e,...e.secretAccessKey&&{secretAccessKey:o.$H},...e.sessionToken&&{sessionToken:o.$H}}),Re=e=>({...e,...e.roleCredentials&&{roleCredentials:xe(e.roleCredentials)}}),ut=e=>({...e,...e.accessToken&&{accessToken:SENSITIVE_STRING}}),pt=e=>({...e,...e.accessToken&&{accessToken:SENSITIVE_STRING}}),ht=e=>({...e,...e.accessToken&&{accessToken:SENSITIVE_STRING}});var N=a(58693),R=a(17457);const Ee=async(e,s)=>{const t=(0,R.lI)(e,s),r=(0,o.Tj)({},o.eU,{[b]:e[P]});t.bp("/federation/credentials");const n=(0,o.Tj)({[ke]:[,(0,o.Y0)(e[we],"roleName")],[U]:[,(0,o.Y0)(e[G],"accountId")]});let i;return t.m("GET").h(r).q(n).b(i),t.build()},mt=async(e,s)=>{const t=rb(e,s),r=map({},isSerializableHeaderValue,{[b]:e[P]});t.bp("/assignment/roles");const n=map({[B]:[,e[_]],[V]:[()=>e.maxResults!==void 0,()=>e[M].toString()],[U]:[,__expectNonNull(e[G],"accountId")]});let i;return t.m("GET").h(r).q(n).b(i),t.build()},yt=async(e,s)=>{const t=rb(e,s),r=map({},isSerializableHeaderValue,{[b]:e[P]});t.bp("/assignment/accounts");const n=map({[B]:[,e[_]],[V]:[()=>e.maxResults!==void 0,()=>e[M].toString()]});let i;return t.m("GET").h(r).q(n).b(i),t.build()},gt=async(e,s)=>{const t=rb(e,s),r=map({},isSerializableHeaderValue,{[b]:e[P]});t.bp("/logout");let n;return t.m("POST").h(r).b(n),t.build()},Ie=async(e,s)=>{if(e.statusCode!==200&&e.statusCode>=300)return C(e,s);const t=(0,o.Tj)({$metadata:m(e)}),r=(0,o.Y0)((0,o.Xk)(await(0,N.Y2)(e.body,s)),"body"),n=(0,o.s)(r,{roleCredentials:o.Ss});return Object.assign(t,n),t},St=async(e,s)=>{if(e.statusCode!==200&&e.statusCode>=300)return C(e,s);const t=map({$metadata:m(e)}),r=__expectNonNull(__expectObject(await parseBody(e.body,s)),"body"),n=take(r,{nextToken:__expectString,roleList:_json});return Object.assign(t,n),t},vt=async(e,s)=>{if(e.statusCode!==200&&e.statusCode>=300)return C(e,s);const t=map({$metadata:m(e)}),r=__expectNonNull(__expectObject(await parseBody(e.body,s)),"body"),n=take(r,{accountList:_json,nextToken:__expectString});return Object.assign(t,n),t},ft=async(e,s)=>{if(e.statusCode!==200&&e.statusCode>=300)return C(e,s);const t=map({$metadata:m(e)});return await collectBody(e.body,s),t},C=async(e,s)=>{const t={...e,body:await(0,N.CG)(e.body,s)},r=(0,N.cJ)(e,t.body);switch(r){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await Pe(t,s);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await be(t,s);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await Ae(t,s);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await Te(t,s);default:const n=t.body;return Ce({output:e,parsedBody:n,errorCode:r})}},Ce=(0,o.jr)(y),Pe=async(e,s)=>{const t=(0,o.Tj)({}),r=e.body,n=(0,o.s)(r,{message:o.lK});Object.assign(t,n);const i=new k({$metadata:m(e),...t});return(0,o.Mw)(i,e.body)},be=async(e,s)=>{const t=(0,o.Tj)({}),r=e.body,n=(0,o.s)(r,{message:o.lK});Object.assign(t,n);const i=new F({$metadata:m(e),...t});return(0,o.Mw)(i,e.body)},Ae=async(e,s)=>{const t=(0,o.Tj)({}),r=e.body,n=(0,o.s)(r,{message:o.lK});Object.assign(t,n);const i=new z({$metadata:m(e),...t});return(0,o.Mw)(i,e.body)},Te=async(e,s)=>{const t=(0,o.Tj)({}),r=e.body,n=(0,o.s)(r,{message:o.lK});Object.assign(t,n);const i=new D({$metadata:m(e),...t});return(0,o.Mw)(i,e.body)},m=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),xt=(e,s)=>collectBody(e,s).then(t=>s.utf8Encoder(t)),G="accountId",P="accessToken",U="account_id",M="maxResults",V="max_result",_="nextToken",B="next_token",we="roleName",ke="role_name",b="x-amz-sso_bearer_token";class Fe extends o.uB.classBuilder().ep(ve).m(function(s,t,r,n){return[(0,ge.TM)(r,this.serialize,this.deserialize),(0,H.rD)(r,s.getEndpointParameterInstructions())]}).s("SWBPortalService","GetRoleCredentials",{}).n("SSOClient","GetRoleCredentialsCommand").f(fe,Re).ser(Ee).de(Ie).build(){}var K=a(9061),ze=a(91429),De=a(15927),Z=a(55703),E=a(27437),Ne=a(76463),A=a(52948),Oe=a(15234),Y=a(15249);const $e=async(e,s,t)=>({operation:(0,Y.u)(s).operation,region:await(0,Y.t)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});function Le(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"awsssoportal",region:e.region},propertiesExtractor:(s,t)=>({signingProperties:{config:s,context:t}})}}function T(e){return{schemeId:"smithy.api#noAuth"}}const je=e=>{const s=[];switch(e.operation){case"GetRoleCredentials":{s.push(T(e));break}case"ListAccountRoles":{s.push(T(e));break}case"ListAccounts":{s.push(T(e));break}case"Logout":{s.push(T(e));break}default:s.push(Le(e))}return s},He=e=>({...(0,Oe.h)(e)}),Ge={rE:"3.726.0"};var Ue=a(82304),q=a(97661),Me=a(61695),S=a(81949),J=a(12001),Ve=a(44051),_e=a(22309),Be=a(36538),Ke=a(19795),W=a(20158),X=a(25643),Ze=a(79094),O=a(14399);const Q="required",d="fn",c="argv",v="ref",ee=!0,te="isSet",I="booleanEquals",f="error",x="endpoint",h="tree",$="PartitionResult",L="getAttr",se={[Q]:!1,type:"String"},ne={[Q]:!0,default:!1,type:"Boolean"},oe={[v]:"Endpoint"},ae={[d]:I,[c]:[{[v]:"UseFIPS"},!0]},re={[d]:I,[c]:[{[v]:"UseDualStack"},!0]},l={},ie={[d]:L,[c]:[{[v]:$},"supportsFIPS"]},de={[v]:$},ce={[d]:I,[c]:[!0,{[d]:L,[c]:[de,"supportsDualStack"]}]},le=[ae],ue=[re],pe=[{[v]:"Region"}],Ye={version:"1.0",parameters:{Region:se,UseDualStack:ne,UseFIPS:ne,Endpoint:se},rules:[{conditions:[{[d]:te,[c]:[oe]}],rules:[{conditions:le,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:f},{conditions:ue,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:f},{endpoint:{url:oe,properties:l,headers:l},type:x}],type:h},{conditions:[{[d]:te,[c]:pe}],rules:[{conditions:[{[d]:"aws.partition",[c]:pe,assign:$}],rules:[{conditions:[ae,re],rules:[{conditions:[{[d]:I,[c]:[ee,ie]},ce],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:l,headers:l},type:x}],type:h},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:f}],type:h},{conditions:le,rules:[{conditions:[{[d]:I,[c]:[ie,ee]}],rules:[{conditions:[{[d]:"stringEquals",[c]:[{[d]:L,[c]:[de,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:l,headers:l},type:x},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:l,headers:l},type:x}],type:h},{error:"FIPS is enabled but this partition does not support FIPS",type:f}],type:h},{conditions:ue,rules:[{conditions:[ce],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:l,headers:l},type:x}],type:h},{error:"DualStack is enabled but this partition does not support DualStack",type:f}],type:h},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:l,headers:l},type:x}],type:h}],type:h},{error:"Invalid Configuration: Missing Region",type:f}]},qe=new O.kS({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),Je=(e,s={})=>qe.get(e,()=>(0,O.sO)(Ye,{endpointParams:e,logger:s.logger}));O.mw.aws=Ze.UF;const We=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??W.E,base64Encoder:e?.base64Encoder??W.n,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??Je,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??je,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:s=>s.getIdentityProvider("aws.auth#sigv4"),signer:new Be.f2},{schemeId:"smithy.api#noAuth",identityProvider:s=>s.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new R.mR}],logger:e?.logger??new o.N4,serviceId:e?.serviceId??"SSO",urlParser:e?.urlParser??Ke.D,utf8Decoder:e?.utf8Decoder??X.ar,utf8Encoder:e?.utf8Encoder??X.Pq});var Xe=a(19919);const Qe=e=>{(0,o.I9)(process.version);const s=(0,Xe.I)(e),t=()=>s().then(o.lT),r=We(e);(0,Ue.I)(process.version);const n={profile:e?.profile};return{...r,...e,runtime:"node",defaultsMode:s,bodyLengthChecker:e?.bodyLengthChecker??Ve.n,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,q.pf)({serviceId:r.serviceId,clientVersion:Ge.rE}),maxAttempts:e?.maxAttempts??(0,S.Z)(A.qs,e),region:e?.region??(0,S.Z)(E.GG,{...E.zH,...n}),requestHandler:J.$c.create(e?.requestHandler??t),retryMode:e?.retryMode??(0,S.Z)({...A.kN,default:async()=>(await t()).retryMode||_e.L0},e),sha256:e?.sha256??Me.V.bind(null,"sha256"),streamCollector:e?.streamCollector??J.kv,useDualstackEndpoint:e?.useDualstackEndpoint??(0,S.Z)(E.e$,n),useFipsEndpoint:e?.useFipsEndpoint??(0,S.Z)(E.Ko,n),userAgentAppId:e?.userAgentAppId??(0,S.Z)(q.hV,n)}};var he=a(85278),me=a(19245);const et=e=>{const s=e.httpAuthSchemes;let t=e.httpAuthSchemeProvider,r=e.credentials;return{setHttpAuthScheme(n){const i=s.findIndex(j=>j.schemeId===n.schemeId);i===-1?s.push(n):s.splice(i,1,n)},httpAuthSchemes(){return s},setHttpAuthSchemeProvider(n){t=n},httpAuthSchemeProvider(){return t},setCredentials(n){r=n},credentials(){return r}}},tt=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),w=e=>e,st=(e,s)=>{const t={...w((0,he.Rq)(e)),...w((0,o.xA)(e)),...w((0,me.eS)(e)),...w(et(e))};return s.forEach(r=>r.configure(t)),{...e,...(0,he.$3)(t),...(0,o.uv)(t),...(0,me.jt)(t),...tt(t)}};class nt extends o.Kj{constructor(...[t]){const r=Qe(t||{}),n=Se(r),i=(0,Z.Dc)(n),j=(0,A.$z)(i),ot=(0,E.TD)(j),at=(0,K.OV)(ot),rt=(0,H.Co)(at),it=He(rt),ye=st(it,t?.extensions||[]);super(ye);u(this,"config");this.config=ye,this.middlewareStack.use((0,Z.sM)(this.config)),this.middlewareStack.use((0,A.ey)(this.config)),this.middlewareStack.use((0,Ne.vK)(this.config)),this.middlewareStack.use((0,K.TC)(this.config)),this.middlewareStack.use((0,ze.Y7)(this.config)),this.middlewareStack.use((0,De.n4)(this.config)),this.middlewareStack.use((0,R.wB)(this.config,{httpAuthSchemeParametersProvider:$e,identityProviderConfigProvider:async dt=>new R.h$({"aws.auth#sigv4":dt.credentials})})),this.middlewareStack.use((0,R.lW)(this.config))}destroy(){super.destroy()}}}};
